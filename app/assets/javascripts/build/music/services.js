// Generated by CoffeeScript 1.9.3
(function() {
  var app;

  app = angular.module("kodiRemote.music.services", []);

  app.service("Music", [
    "Request", function(Request) {
      var albumsProperties, albumsResultHandler, service;
      albumsProperties = ["title", "description", "artist", "genre", "mood", "style", "albumlabel", "rating", "year", "thumbnail", "playcount", "genreid", "artistid", "fanart"];
      albumsResultHandler = function(result) {
        var i, len, ref, show;
        ref = result.albums || [];
        for (i = 0, len = ref.length; i < len; i++) {
          show = ref[i];
          show.type = "album";
        }
        return result.albums || [];
      };
      service = {
        perPage: 5,
        albums: function(pageParams, sortParams) {
          var params;
          if (pageParams == null) {
            pageParams = 1;
          }
          if (sortParams == null) {
            sortParams = {
              by: "label",
              direction: "ascending"
            };
          }
          params = {
            properties: albumsProperties,
            sort: {
              method: sortParams.by,
              order: sortParams.direction
            },
            limits: {
              start: (pageParams - 1) * this.perPage,
              end: pageParams * this.perPage
            }
          };
          return Request.fetch("AudioLibrary.GetAlbums", albumsResultHandler, params);
        }
      };
      return service;
    }
  ]);

}).call(this);
