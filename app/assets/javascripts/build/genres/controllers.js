// Generated by CoffeeScript 1.9.3
(function() {
  var app;

  app = angular.module("kodiRemote.genres.controllers", []);

  app.controller("GenreController", [
    "$scope", "$rootScope", "$routeParams", "Genres", "NavbarFactory", function($scope, $rootScope, $routeParams, Genres, NavbarFactory) {
      var genre;
      genre = $routeParams.genre;
      $scope.tvShows = [];
      $scope.tvShowGroups = [];
      $rootScope.$broadcast("topbar.loading", true);
      return Genres.get("tvshow", genre).then(function(data) {
        $rootScope.$broadcast("topbar.loading", false);
        $scope.tvShows = data.data;
        $scope.tvShowGroups = kodiRemote.array.inGroupsOf($scope.tvShows, 2);
        $scope.Navbar = new NavbarFactory;
        $scope.Navbar.addLink("/tvshows", "TV Shows");
        $scope.Navbar.addLink("/tvshows/genres", "Genres");
        return $scope.Navbar.addTitle(genre + " (" + data.total + ")");
      });
    }
  ]);

}).call(this);
